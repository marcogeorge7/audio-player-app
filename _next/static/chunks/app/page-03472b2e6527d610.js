(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2055:(e,t,s)=>{Promise.resolve().then(s.bind(s,3353))},3353:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var l=s(5155),a=s(2115);let r=[220,440,880,1e3];function i(e){let{audioFiles:t,onSavePlaylist:s,existingPlaylist:i,onCancel:n}=e,[d,c]=(0,a.useState)((null==i?void 0:i.name)||""),[o,u]=(0,a.useState)((null==i?void 0:i.description)||""),[x,m]=(0,a.useState)((null==i?void 0:i.items)||[]),[h,g]=(0,a.useState)(null),p=()=>"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),y=e=>{m(t=>[...t,e])},f=e=>{e.preventDefault()};return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:i?"✏️ Edit Playlist":"➕ Create New Playlist"}),n&&(0,l.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-xl",children:"✕"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Playlist Name *"}),(0,l.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Enter playlist name...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:100})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,l.jsx)("textarea",{value:o,onChange:e=>u(e.target.value),placeholder:"Optional description...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,maxLength:500})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Add Items"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Tone Generator:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,l.jsxs)("button",{onClick:()=>y({id:p(),type:"tone",content:"tone:".concat(e),title:"\uD83C\uDFB5 Tone ".concat(e,"Hz")}),className:"px-3 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 text-sm rounded-md transition-colors",children:["+ ",e,"Hz"]},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Audio Files:"}),(0,l.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-md",children:0===t.length?(0,l.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,l.jsx)("p",{children:"No audio files available"}),(0,l.jsx)("p",{className:"text-xs mt-1",children:"Upload some files to add them to playlists"})]}):(0,l.jsx)("div",{className:"space-y-1 p-2",children:t.map(e=>(0,l.jsxs)("button",{onClick:()=>y({id:p(),type:"file",content:e.filename,title:e.label}),className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded-md transition-colors text-sm",title:"Add ".concat(e.label," to playlist"),children:[(0,l.jsx)("span",{className:"text-green-600 mr-2",children:"+"}),e.label]},e.filename))})})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["Playlist Items (",x.length,")"]}),x.length>0&&(0,l.jsx)("button",{onClick:()=>{confirm("Remove all items from the playlist?")&&m([])},className:"text-sm text-red-600 hover:text-red-800",children:"\uD83D\uDDD1️ Clear All"})]}),0===x.length?(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-3xl mb-2",children:"\uD83C\uDFB5"}),(0,l.jsx)("p",{className:"text-sm",children:"No items in playlist yet"}),(0,l.jsx)("p",{className:"text-xs mt-1",children:"Add some tracks or tones above"})]}):(0,l.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto border border-gray-200 rounded-md p-2",children:x.map((e,t)=>(0,l.jsxs)("div",{draggable:!0,onDragStart:()=>{g(t)},onDragOver:f,onDrop:e=>{e.preventDefault(),null!==h&&h!==t&&((e,t)=>{if(e===t)return;let s=[...x],[l]=s.splice(e,1);s.splice(t,0,l),m(s)})(h,t),g(null)},className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-md border cursor-move",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,l.jsxs)("span",{className:"text-sm font-mono text-gray-500",children:["#",(t+1).toString().padStart(2,"0")]}),(0,l.jsx)("span",{className:"text-sm font-medium truncate",title:e.title,children:e.title}),(0,l.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.type,")"]})]}),(0,l.jsx)("button",{onClick:()=>{m(e=>e.filter((e,s)=>s!==t))},className:"text-red-600 hover:text-red-800 p-1 rounded",title:"Remove item",children:"✕"})]},e.id))})]}),(0,l.jsxs)("div",{className:"flex space-x-4 pt-4 border-t border-gray-200",children:[(0,l.jsx)("button",{onClick:()=>d.trim()?0===x.length?void alert("Please add at least one item to the playlist"):void s({id:(null==i?void 0:i.id)||p(),name:d.trim(),description:o.trim(),items:x,currentIndex:(null==i?void 0:i.currentIndex)||0,shuffle:(null==i?void 0:i.shuffle)||!1,repeat:(null==i?void 0:i.repeat)||"off",createdAt:(null==i?void 0:i.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()}):void alert("Please enter a playlist name"),disabled:!d.trim()||0===x.length,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium rounded-md transition-colors",children:i?"\uD83D\uDCBE Save Changes":"✅ Create Playlist"}),n&&(0,l.jsx)("button",{onClick:n,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium rounded-md transition-colors",children:"Cancel"})]})]})}function n(e){var t;let{playlist:s,audioDevices:r,onPlaylistUpdate:i}=e,[n,d]=(0,a.useState)({isPlaying:!1,isPaused:!1,volume:.7,currentTime:0,duration:0,audioElement:null,sourceNode:null,gainNode:null,selectedPlaylist:s,selectedDevice:r[0]||null}),c=(0,a.useRef)(null),o=(0,a.useRef)(null),u=(0,a.useRef)(null),x=(0,a.useRef)(null),m=(0,a.useRef)(null),h=(0,a.useRef)(0),[g,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{p(!0)},[]),(0,a.useEffect)(()=>{if(g)return(async()=>{c.current=new(window.AudioContext||window.webkitAudioContext),"suspended"===c.current.state&&await c.current.resume()})(),()=>{c.current&&c.current.close()}},[g]),(0,a.useEffect)(()=>{d(e=>({...e,selectedPlaylist:s})),s.items.length>0&&(o.current=s.items[0])},[s]);let y=()=>{let e;if(0===s.items.length)return 0;if("one"===s.repeat)return s.currentIndex;if(s.shuffle&&s.shuffledIndices){let t=s.shuffledIndices.indexOf(s.currentIndex);e=s.shuffledIndices[(t+1)%s.shuffledIndices.length]}else e=(s.currentIndex+1)%s.items.length;return 0===e&&"off"===s.repeat?-1:e},f=()=>{if(h.current+=1,u.current){try{u.current.stop()}catch(e){}u.current=null}m.current&&(m.current.pause(),m.current.srcObject=null,m.current=null),x.current&&(x.current=null),d(e=>({...e,isPlaying:!1,isPaused:!1,sourceNode:null,gainNode:null,audioElement:null,currentTime:0}))},b=async e=>{if(!c.current)return;let t=void 0!==e?e:s.currentIndex,l=s.items[t];if(l){t!==s.currentIndex&&i&&i({...s,currentIndex:t,updatedAt:new Date().toISOString()}),f();try{if(l.content.startsWith("tone:")){let e=parseInt(l.content.split(":")[1]),t=c.current.createOscillator(),s=c.current.createGain();t.frequency.setValueAtTime(e,c.current.currentTime),t.type="sine",s.gain.setValueAtTime(n.volume,c.current.currentTime);let a=c.current.createMediaStreamDestination();t.connect(s),s.connect(a);let r=new Audio;if(r.srcObject=a.stream,r.volume=1,n.selectedDevice&&"setSinkId"in r)try{await r.setSinkId(n.selectedDevice.deviceId)}catch(e){console.warn("setSinkId failed:",e)}let i=h.current;t.onended=()=>{if(h.current!==i)return void console.log("\uD83D\uDD07 Ignoring onended from previous track (tone)");let e=y();e>=0?setTimeout(()=>b(e),100):f()},t.start(),await r.play(),u.current=t,x.current=s,m.current=r,d(e=>({...e,isPlaying:!0,isPaused:!1,sourceNode:t,gainNode:s,audioElement:r,duration:0}))}else{let e=await fetch("/audio/".concat(l.content)),t=await e.arrayBuffer(),a=await c.current.decodeAudioData(t),r=c.current.createBufferSource(),i=c.current.createGain();r.buffer=a,r.loop="one"===s.repeat,i.gain.setValueAtTime(n.volume,c.current.currentTime);let o=c.current.createMediaStreamDestination();r.connect(i),i.connect(o);let g=new Audio;if(g.srcObject=o.stream,g.volume=1,n.selectedDevice&&"setSinkId"in g)try{await g.setSinkId(n.selectedDevice.deviceId)}catch(e){console.warn("setSinkId failed:",e)}let p=h.current;r.onended=()=>{if(h.current!==p)return void console.log("\uD83D\uDD07 Ignoring onended from previous track (file)");if(!r.loop){let e=y();e>=0?setTimeout(()=>b(e),100):f()}},r.start(),await g.play(),u.current=r,x.current=i,m.current=g,d(e=>({...e,isPlaying:!0,isPaused:!1,sourceNode:r,gainNode:i,audioElement:g,duration:a.duration}))}o.current=l,console.log("\uD83C\uDFB5 Playing: ".concat(l.title))}catch(e){console.error("Error playing track:",e)}}},v=!s.items.length||s.currentIndex>=s.items.length?null:s.items[s.currentIndex],j=n.duration>0?n.currentTime/n.duration*100:0;return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\uD83C\uDFB5 Audio Player"}),(0,l.jsx)("p",{className:"text-gray-600",children:s.name}),s.description&&(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:s.description})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Output Device:"}),(0,l.jsx)("select",{value:(null==(t=n.selectedDevice)?void 0:t.deviceId)||"",onChange:e=>{let t=r.find(t=>t.deviceId===e.target.value);t&&d(e=>({...e,selectedDevice:t}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:r.map(e=>(0,l.jsx)("option",{value:e.deviceId,children:e.label},e.deviceId))})]}),v&&(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-lg font-semibold text-gray-800 mb-1",children:v.title}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:["Track ",s.currentIndex+1," of ",s.items.length," • ",v.type]}),n.duration>0&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1",children:(0,l.jsx)("div",{className:"bg-blue-600 h-1 rounded-full transition-all duration-300",style:{width:"".concat(j,"%")}})}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,l.jsxs)("span",{children:[Math.floor(n.currentTime/60),":",Math.floor(n.currentTime%60).toString().padStart(2,"0")]}),(0,l.jsxs)("span",{children:[Math.floor(n.duration/60),":",Math.floor(n.duration%60).toString().padStart(2,"0")]})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,l.jsx)("button",{onClick:()=>{b((()=>{let e;if(0===s.items.length)return 0;if("one"===s.repeat)return s.currentIndex;if(s.shuffle&&s.shuffledIndices){let t=s.shuffledIndices.indexOf(s.currentIndex)-1;e=s.shuffledIndices[t<0?s.shuffledIndices.length-1:t]}else(e=s.currentIndex-1)<0&&(e="all"===s.repeat?s.items.length-1:0);return e})())},disabled:!v,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-lg transition-colors",children:"⏮️ Previous"}),(0,l.jsx)("button",{onClick:()=>v&&b(),disabled:!v||n.isPlaying,className:"px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors",children:n.isPlaying?"\uD83D\uDD04 Playing...":"▶️ Play"}),(0,l.jsx)("button",{onClick:()=>{n.isPlaying?(f(),d(e=>({...e,isPaused:!0}))):n.isPaused&&b(s.currentIndex)},disabled:!v,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:n.isPlaying?"⏸️ Pause":"▶️ Resume"}),(0,l.jsx)("button",{onClick:f,disabled:!n.isPlaying&&!n.isPaused,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"⏹️ Stop"}),(0,l.jsx)("button",{onClick:()=>{let e=y();e>=0&&b(e)},disabled:!v,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-lg transition-colors",children:"⏭️ Next"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Volume: ",Math.round(100*n.volume),"%"]}),(0,l.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:n.volume,onChange:e=>{var t;return t=parseFloat(e.target.value),void(d(e=>({...e,volume:t})),x.current&&c.current&&x.current.gain.setValueAtTime(t,c.current.currentTime))},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Playlist (",s.items.length," tracks)"]}),(0,l.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-1",children:s.items.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md transition-colors cursor-pointer ".concat(t===s.currentIndex?"bg-blue-100 border border-blue-200":"bg-gray-50 hover:bg-gray-100"),onClick:()=>b(t),children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,l.jsxs)("span",{className:"text-sm font-mono text-gray-500",children:["#",(t+1).toString().padStart(2,"0")]}),(0,l.jsx)("span",{className:"text-sm truncate",title:e.title,children:e.title}),t===s.currentIndex&&n.isPlaying&&(0,l.jsx)("span",{className:"text-blue-600",children:"▶️"})]}),(0,l.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.type,")"]})]},e.id))})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-4 pt-4 border-t border-gray-200",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["\uD83D\uDD00 Shuffle: ",s.shuffle?"ON":"OFF"]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["\uD83D\uDD01 Repeat: ",s.repeat.toUpperCase()]})]})]})}function d(e){return(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-6 text-center bg-gray-50",children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"text-4xl",children:"\uD83D\uDCC1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"File Upload Not Available"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"File upload is not supported on GitHub Pages static hosting. To add new audio files, please add them to the repository."})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,l.jsx)("p",{children:"Current files are loaded from the public/audio directory"}),(0,l.jsx)("p",{children:"To add files: Add them to public/audio/ and update public/data/audio-files.json"})]})]})})})}function c(){let[e,t]=(0,a.useState)("playlists"),[s,r]=(0,a.useState)([]),[c,o]=(0,a.useState)(null),[u,x]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),{audioFiles:g,loading:p,error:y,refetch:f}=function(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[r,i]=(0,a.useState)(null),n=async()=>{try{l(!0),i(null);let e=function(){{let{hostname:e}=window.location,t="/audio-player-app";return"localhost"===e||"127.0.0.1"===e?(console.log("\uD83D\uDD27 getApiBase - using local development"),""):(console.log("\uD83D\uDD27 getApiBase - using GitHub Pages with basePath:",t),t)}}(),s="".concat(e,"/data/audio-files.json");console.log("\uD83D\uDCC1 useAudioFiles - fetching:",s);let a=await fetch(s);console.log("\uD83D\uDCC1 useAudioFiles - response status:",a.status);let r=await a.json();if(console.log("\uD83D\uDCC1 useAudioFiles - data:",r),!a.ok)throw Error(r.error||"Failed to fetch audio files");t(r.files||[]),console.log("\uD83D\uDCC1 Loaded audio files dynamically:",r.files)}catch(e){i(e instanceof Error?e.message:"Unknown error occurred"),console.error("❌ Error loading audio files:",e)}finally{l(!1)}};return(0,a.useEffect)(()=>{n()},[]),{audioFiles:e,loading:s,error:r,refetch:n}}(),{audioDevices:b,loading:v,error:j}=function(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[r,i]=(0,a.useState)(null),[n,d]=(0,a.useState)(!1),c=(0,a.useCallback)(async()=>{if(n)try{if(l(!0),i(null),!navigator.mediaDevices)return void i("Media devices API not available");(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop());let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"audiooutput"===e.kind&&"default"!==e.deviceId&&"communications"!==e.deviceId&&e.deviceId.length>10).map(e=>({deviceId:e.deviceId,label:e.label||"Audio Device ".concat(e.deviceId.substring(0,8)),kind:e.kind}));console.log("\uD83D\uDD0A Non-default audio devices found:",e),t(e)}catch(e){i(e instanceof Error?e.message:"Failed to access media devices"),console.error("❌ Error accessing media devices:",e)}finally{l(!1)}},[n]);return(0,a.useEffect)(()=>{d(!0)},[]),(0,a.useEffect)(()=>{n&&c()},[n,c]),{audioDevices:e,loading:s,error:r,refetch:c}}(),N=y||j;(0,a.useEffect)(()=>{h(!0),w()},[]);let w=()=>{try{let e=localStorage.getItem("audio-playlists");if(e){let t=JSON.parse(e);r(t)}}catch(e){console.error("Error loading playlists:",e)}},D=e=>{try{localStorage.setItem("audio-playlists",JSON.stringify(e))}catch(e){console.error("Error saving playlists:",e)}},I=e=>{let l,a=s.findIndex(t=>t.id===e.id);a>=0?(l=[...s])[a]=e:l=[...s,e],r(l),D(l),t("playlists"),o(null)},C=()=>{f()};return m?p||v?(0,l.jsxs)("div",{className:"w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6 text-center",children:[(0,l.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"\uD83D\uDD04"}),(0,l.jsx)("p",{className:"text-gray-600",children:p&&v?"Loading audio files and devices...":p?"Loading audio files...":"Loading audio devices..."}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Please allow microphone access to detect audio outputs"})]}):N?(0,l.jsxs)("div",{className:"w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6 text-center",children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"❌"}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Resources"}),(0,l.jsxs)("div",{className:"text-red-600 mb-4",children:[y&&(0,l.jsxs)("p",{children:["• Audio files: ",y]}),j&&(0,l.jsxs)("p",{children:["• Audio devices: ",j]})]}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Please refresh the page and try again."})]}):0===b.length?(0,l.jsxs)("div",{className:"w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6 text-center",children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"⚠️"}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Audio Devices Found"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"No audio output devices are available. To use this player, you need audio devices such as:"}),(0,l.jsxs)("ul",{className:"text-left text-gray-600 space-y-1 max-w-md mx-auto",children:[(0,l.jsx)("li",{children:"• System default speakers"}),(0,l.jsx)("li",{children:"• USB headphones or speakers"}),(0,l.jsx)("li",{children:"• Bluetooth audio devices"}),(0,l.jsx)("li",{children:"• External audio interfaces"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"Connect audio devices and refresh the page."})]}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-100 py-6",children:(0,l.jsx)("div",{className:"w-full max-w-7xl mx-auto px-4",children:(()=>{switch(e){case"create":return(0,l.jsx)(i,{audioFiles:g,onSavePlaylist:I,onCancel:()=>t("playlists")});case"edit":return c?(0,l.jsx)(i,{audioFiles:g,existingPlaylist:c,onSavePlaylist:I,onCancel:()=>{o(null),t("playlists")}}):null;case"players":return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-lg shadow-lg p-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\uD83C\uDFB5 Active Players"}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Playing ",u.length," playlist",1!==u.length?"s":""," on separate outputs"]})]}),(0,l.jsxs)("div",{className:"space-x-3",children:[(0,l.jsx)("button",{onClick:()=>t("playlists"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"➕ Add More"}),(0,l.jsx)("button",{onClick:()=>{confirm("Stop all players?")&&(x([]),t("playlists"))},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",disabled:0===u.length,children:"⏹️ Stop All"})]})]}),0===u.length?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFB5"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Active Players"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Add playlists to start playing on different outputs"}),(0,l.jsx)("button",{onClick:()=>t("playlists"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:"Select Playlists"})]}):(0,l.jsx)("div",{className:"grid lg:grid-cols-2 gap-6",children:u.map(e=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("button",{onClick:()=>{var t;return t=e.id,void x(e=>e.filter(e=>e.id!==t))},className:"absolute top-2 right-2 z-10 p-2 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-lg transition-colors",title:"Remove from player",children:"✕"}),(0,l.jsx)(n,{playlist:e.playlist,audioDevices:[e.device],onPlaylistUpdate:t=>((e,t)=>{let l=s.map(e=>e.id===t.id?t:e);r(l),D(l),x(s=>s.map(s=>s.id===e?{...s,playlist:t}:s))})(e.id,t)})]},e.id))})]});default:return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-center mb-4 text-gray-800",children:"\uD83C\uDFB5 Multi-Playlist Audio Player"}),(0,l.jsx)("p",{className:"text-center text-gray-600 mb-4",children:"Play different playlists on separate audio outputs simultaneously"}),(0,l.jsxs)("div",{className:"flex justify-center items-center space-x-4 text-sm text-gray-500",children:[(0,l.jsxs)("span",{children:["\uD83C\uDFA7 ",b.length," Device",1!==b.length?"s":""]}),(0,l.jsxs)("span",{children:["\uD83C\uDFB5 ",g.length," Audio File",1!==g.length?"s":""]}),(0,l.jsxs)("span",{children:["\uD83D\uDCC2 ",s.length," Playlist",1!==s.length?"s":""]}),(0,l.jsxs)("span",{children:["▶️ ",u.length," Playing"]})]})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,l.jsx)(d,{onUploadComplete:C})}),(0,l.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,l.jsx)("button",{onClick:()=>t("create"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-md transition-colors",children:"➕ Create New Playlist"}),u.length>0&&(0,l.jsxs)("button",{onClick:()=>t("players"),className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg shadow-md transition-colors",children:["\uD83C\uDFB5 View Active Players (",u.length,")"]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Playlists"}),0===s.length?(0,l.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFB5"}),(0,l.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No playlists yet"}),(0,l.jsx)("p",{className:"text-sm mb-4",children:"Create your first playlist to get started"}),(0,l.jsx)("button",{onClick:()=>t("create"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:"Create Playlist"})]}):(0,l.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-800 truncate",title:e.name,children:e.name}),e.description&&(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",title:e.description,children:e.description})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,l.jsx)("button",{onClick:()=>{o(e),t("edit")},className:"p-1 text-gray-400 hover:text-blue-600 rounded",title:"Edit playlist",children:"✏️"}),(0,l.jsx)("button",{onClick:()=>(e=>{if(confirm("Are you sure you want to delete this playlist?")){let t=s.filter(t=>t.id!==e);r(t),D(t),x(t=>t.filter(t=>t.playlist.id!==e))}})(e.id),className:"p-1 text-gray-400 hover:text-red-600 rounded",title:"Delete playlist",children:"\uD83D\uDDD1️"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[(0,l.jsxs)("span",{children:[e.items.length," track",1!==e.items.length?"s":""]}),(0,l.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]}),e.items.length>0&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Tracks:"}),(0,l.jsxs)("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:[e.items.slice(0,3).map((e,t)=>(0,l.jsxs)("div",{className:"text-xs text-gray-600 truncate",children:[t+1,". ",e.title]},e.id)),e.items.length>3&&(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:["+",e.items.length-3," more..."]})]})]}),0===e.items.length?(0,l.jsx)("button",{disabled:!0,className:"w-full px-4 py-2 bg-gray-300 text-gray-500 text-sm rounded-md cursor-not-allowed",children:"Empty Playlist"}):(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"Select output device:"}),(0,l.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:b.map(s=>{let a=u.some(e=>e.device.deviceId===s.deviceId);return(0,l.jsxs)("button",{onClick:()=>((e,s)=>{if(u.some(e=>e.device.deviceId===s.deviceId))return void alert('Device "'.concat(s.label,'" is already being used by another playlist.'));let l={id:"".concat(e.id,"-").concat(s.deviceId,"-").concat(Date.now()),playlist:e,device:s};x(e=>[...e,l]),t("players")})(e,s),disabled:a,className:"w-full px-3 py-2 text-xs rounded-md transition-colors text-left ".concat(a?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-100 hover:bg-green-200 text-green-800"),title:a?"Device already in use":"Play on ".concat(s.label),children:[(0,l.jsxs)("span",{className:"block truncate",children:[a?"\uD83D\uDD12":"▶️"," ",s.label]}),a&&(0,l.jsx)("span",{className:"text-xs text-gray-400",children:"In use"})]},s.deviceId)})})]})]},e.id))})]})]})}})()})}):null}}},e=>{e.O(0,[441,255,358],()=>e(e.s=2055)),_N_E=e.O()}]);